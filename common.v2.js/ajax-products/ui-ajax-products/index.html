
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ui-ajax-product/">
      
      
        <link rel="next" href="../../9ui-ajax-filters/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.6">
    
    
      
        <title>ui-ajax-products - LiquidHub</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ui-ajax-products" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="LiquidHub" class="md-header__button md-logo" aria-label="LiquidHub" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LiquidHub
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ui-ajax-products
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/insales/insales-docs-source/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="LiquidHub" class="md-nav__button md-logo" aria-label="LiquidHub" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    LiquidHub
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/insales/insales-docs-source/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Главная
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    4 поколение
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            4 поколение
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Шаблон
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Шаблон
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD/layout.liquid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Layout страниц
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD/messages.json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    messages.json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD/settings.json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    settings.json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%A8%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD/setup.json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    setup.json
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Виджеты
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Виджеты
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/snippet.liquid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snippet.liquid
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/snippet.scss/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snippet.scss
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/snippet.js/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    snippet.js
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/messages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    messages.json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/settings_form/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    settings_form.json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/settings_data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    settings_data.json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    setup.json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/preview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    preview.jpg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/info/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    info.json
  </span>
  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2_11" >
        
          
          <label class="md-nav__link" for="__nav_2_2_11" id="__nav_2_2_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Примеры
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_2_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2_11">
            <span class="md-nav__icon md-icon"></span>
            Примеры
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B/SimpleWidgetType/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Простой виджет
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%92%D0%B8%D0%B4%D0%B6%D0%B5%D1%82%D1%8B/%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B/block_list_widget_type/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Виджет с блоками
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Иконки
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Иконки
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%98%D0%BA%D0%BE%D0%BD%D0%BA%D0%B8/icons_editor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Иконки редактора
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/%D0%98%D0%BA%D0%BE%D0%BD%D0%BA%D0%B8/icons_theme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Иконки шаблонов
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../4%20%D0%BF%D0%BE%D0%BA%D0%BE%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5/core.css/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Core.css
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    common.v2.js
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            common.v2.js
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../1readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Вводная
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../2Products/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Товар
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../ui-accessories/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Опции
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Опции
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui-accessories/product/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Опции в карточке товара
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui-accessories/cart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Опции в корзине
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../3Cart/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Корзина
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../4AjaxSearch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Живой поиск по сайту
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../5Compare/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Сравнение
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../6FavoritesProducts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Избранное
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../7EventBus/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EventBus
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../8ajaxAPI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Модуль для работы с API магазина
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_10" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    AJAX-товары
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_10" id="__nav_3_10_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_10_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_10">
            <span class="md-nav__icon md-icon"></span>
            AJAX-товары
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ui-ajax-product/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ui-ajax-product
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    ui-ajax-products
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    ui-ajax-products
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Как это работает
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Инициализация компонента
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Работа с загруженными товарами
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Работа с загруженными товарами">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#init-productsui-ajax-products" class="md-nav__link">
    <span class="md-ellipsis">
      Подписка на событие init-products:ui-ajax-products
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      Подробно о шаблонах
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Подробно о шаблонах">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-template" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="data-ajax-products-list-item-template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Корневые элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Корневые элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-form" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-form
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-form_1" class="md-nav__link">
    <span class="md-ellipsis">
      Вложенные элементы формы товара (data-ajax-products-list-item-form)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Вложенные элементы формы товара (data-ajax-products-list-item-form)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-title" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-title
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-link" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-link
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-image" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-short-description" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-short-description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-price-min" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-price-min
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-price-max" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-price-max
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-variants-select-block" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-variants-select-block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-add-cart" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-add-cart
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-stickers" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-stickers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-favorites-trigger" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-favorites-trigger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-compare-trigger" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-compare-trigger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-image-template" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-image-template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="data-ajax-products-list-item-image-template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      Корневые элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Корневые элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-picture" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-picture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      Вложенные элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Вложенные элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-image-resizing-rules-index" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-image-resizing-rules-index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-images-item-template" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-images-item-template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="data-ajax-products-list-item-option-values-images-item-template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      Корневые элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Корневые элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-images-item" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-images-item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      Вложенные элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Вложенные элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-images-item-img" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-images-item-img
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-item-text-template" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-item-text-template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="data-ajax-products-list-item-option-values-item-text-template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      Вложенные элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Вложенные элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-item-text" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-item-text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-item-id" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-item-id
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      События
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      Доступные классы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Доступные классы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-form_2" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values_1" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../9ui-ajax-filters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AJAX-фильтры
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../10ui-feedback/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Форма обратной связи
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui-reviews/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Форма отзыва к товару
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ui-comments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Форма комментария к статье
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../11ui-trigger-events/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trigger Events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../12Template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lodash шаблоны
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../13InSalesUI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Методы для работы с UI
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../14Shop/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Вспомогательные методы
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Примеры работы с данными магазина
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Примеры работы с данными магазина
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/images_for_options/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    images_for_options
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            images_for_options
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    reCAPTCHA
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            reCAPTCHA
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/aroma2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Аромат2, Фантазия2, Чистота
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/commonjs.v2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Для любых шаблонов с commonjs.v2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/dotstore/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DotStore
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/fleur/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Флёр, Инсташоп, Cross
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/prezent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Презент, Монпансье, Плэнер
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/recaptcha-common/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    reCaptchaCommon API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/template_without_commonjs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Для шаблонов без commonjs.v2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/v3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Для шаблонов 3 поколения
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/reCAPTCHA/z.InSales/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Шаблоны с файлами z.InSales
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../%D0%9F%D1%80%D0%B8%D0%BC%D0%B5%D1%80%D1%8B%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%8B%20%D1%81%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%BC%D0%B8%20%D0%BC%D0%B0%D0%B3%D0%B0%D0%B7%D0%B8%D0%BD%D0%B0/site_currencies/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    site_currencies
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            site_currencies
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    InSales API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            InSales API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../InSales%20API/01%20readme/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Как интегрироваться с InSales
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      Как это работает
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      Инициализация компонента
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      Работа с загруженными товарами
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Работа с загруженными товарами">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#init-productsui-ajax-products" class="md-nav__link">
    <span class="md-ellipsis">
      Подписка на событие init-products:ui-ajax-products
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      Подробно о шаблонах
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Подробно о шаблонах">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-template" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="data-ajax-products-list-item-template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      Корневые элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Корневые элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-form" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-form
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-form_1" class="md-nav__link">
    <span class="md-ellipsis">
      Вложенные элементы формы товара (data-ajax-products-list-item-form)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Вложенные элементы формы товара (data-ajax-products-list-item-form)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-title" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-title
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-link" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-link
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-image" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-image
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-short-description" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-short-description
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-price-min" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-price-min
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-price-max" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-price-max
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-variants-select-block" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-variants-select-block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-add-cart" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-add-cart
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-stickers" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-stickers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-favorites-trigger" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-favorites-trigger
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-compare-trigger" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-compare-trigger
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-image-template" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-image-template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="data-ajax-products-list-item-image-template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      Корневые элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Корневые элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-picture" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-picture
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      Вложенные элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Вложенные элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-image-resizing-rules-index" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-image-resizing-rules-index
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-images-item-template" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-images-item-template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="data-ajax-products-list-item-option-values-images-item-template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      Корневые элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Корневые элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-images-item" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-images-item
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      Вложенные элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Вложенные элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-images-item-img" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-images-item-img
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-item-text-template" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-item-text-template
    </span>
  </a>
  
    <nav class="md-nav" aria-label="data-ajax-products-list-item-option-values-item-text-template">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      Вложенные элементы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Вложенные элементы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-item-text" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-item-text
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values-item-id" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values-item-id
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      События
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      Доступные классы
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Доступные классы">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-form_2" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-form
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-ajax-products-list-item-option-values_1" class="md-nav__link">
    <span class="md-ellipsis">
      data-ajax-products-list-item-option-values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="ui-ajax-products">ui-ajax-products</h1>
<p>Компонент для упрощения реализации AJAX-подгрузки товаров из определенной категории интернет-магазина.</p>
<p>Примеры разметки и JavaScript кода можно найти в виджетах товаров из определенной категории с артикулами SP9, SP12 и SP16.</p>
<h2 id="_1">Как это работает</h2>
<ol>
<li>На странице, где вы хотите использовать компонент, создайте блок с атрибутом <code>data-ajax-products</code>.</li>
<li>Внутри этого блока разместите другой блок с атрибутом <code>data-ajax-products-list</code>, в который будут добавляться товары.</li>
<li>В значение атрибута <code>data-ajax-products-list</code> передайте объект с настройками:<ul>
<li><code>collection</code> — handle категории, из которой нужно получить товары</li>
<li><code>limit</code> — максимальное количество товаров для загрузки</li>
<li><code>imageResizingRules</code> — правила изменения размеров изображений товаров, их формат, качество и параметры изменения размера</li>
<li><code>switchImages</code> — определяет загрузку первых двух изображений товара (true) или только первого изображения (false)</li>
<li><code>shortDescriptionWordsCount</code> — ограничение количества слов в кратком описании товара</li>
<li><code>withoutManyVariants</code> — если передать <code>true</code>, то товары с большим количеством вариантов будут загружаться только с одним вариантом. Рекомендуется использовать, если в форме товара отсутствует селектор вариантов.</li>
</ul>
</li>
<li>Разместите шаблоны внутри элемента с атрибутом <code>data-ajax-products</code></li>
</ol>
<p>Пример разметки:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">data-ajax-products</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">data-ajax-products-list</span><span class="o">=</span><span class="s">&#39;{</span>
<span class="s">    &quot;collection&quot;: &quot;my-collection&quot;,</span>
<span class="s">    &quot;limit&quot;: &quot;20&quot;,</span>
<span class="s">    &quot;imageResizingRules&quot;: [</span>
<span class="s">      {&quot;size&quot;:&quot;1000&quot;, &quot;format&quot;:&quot;webp&quot;, &quot;resizing_type&quot;:&quot;fit_width&quot;, &quot;quality&quot;:&quot;100&quot;},</span>
<span class="s">      {&quot;size&quot;:&quot;500&quot;, &quot;format&quot;:&quot;webp&quot;, &quot;resizing_type&quot;:&quot;fit_width&quot;, &quot;quality&quot;:&quot;100&quot;},</span>
<span class="s">      {&quot;size&quot;:&quot;100&quot;, &quot;resizing_type&quot;:&quot;fit_width&quot;, &quot;quality&quot;:&quot;100&quot;}</span>
<span class="s">    ],</span>
<span class="s">    &quot;hideVariants&quot;: &quot;true&quot;,</span>
<span class="s">    &quot;switchImages&quot;: &quot;false&quot;,</span>
<span class="s">    &quot;shortDescriptionWordsCount&quot;: &quot;10&quot;</span>
<span class="s">  }&#39;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

  <span class="cm">&lt;!-- Здесь должны быть шаблоны --&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h2 id="_2">Инициализация компонента</h2>
<p>После события <code>DOMContentLoaded</code> в компоненте происходит подписка на событие <code>ui-ajax-products:load-products-list</code>. Чтобы инициализировать компонент, нужно опубликовать это событие через JavaScript и передать в него DOM-элемент с атрибутом <code>data-ajax-products-list</code>.</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Получаем массив с элементами с атрибутом data-ajax-products-list</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">productListNodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;[data-ajax-products-list]&#39;</span><span class="p">));</span>

<span class="c1">// Если элементы есть, то проходим по массиву и для каждого элемента публикуем событие ui-ajax-products:load-products-list</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">productListNodes</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">productListNodes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">productListNodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">productListNode</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">EventBus</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s1">&#39;ui-ajax-products:load-products-list&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">productListNode</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="_3">Работа с загруженными товарами</h2>
<p>Компонент загрузит и обработает информацию о товарах, затем отобразит каждый товар в блоке с атрибутом <code>data-ajax-products-list</code> в соответствии с заданными шаблонами. По завершению этого процесса, компонент опубликует событие <code>init-products:ui-ajax-products</code>. Вы можете подписаться на это событие, чтобы выполнять дополнительные манипуляции с полученными и отрисованными товарами на странице.</p>
<h3 id="init-productsui-ajax-products">Подписка на событие <code>init-products:ui-ajax-products</code></h3>
<div class="highlight"><pre><span></span><code><span class="c1">// Получаем массив с элементами с атрибутом data-ajax-products-list</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">productListNodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Array</span><span class="p">.</span><span class="kr">from</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s1">&#39;[data-ajax-products-list]&#39;</span><span class="p">));</span>

<span class="c1">// Если элементы есть, то проходим по массиву и для каждого элемента публикуем событие ui-ajax-products:load-products-list</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">productListNodes</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">productListNodes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">productListNodes</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">productListNode</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">EventBus</span><span class="p">.</span><span class="nx">publish</span><span class="p">(</span><span class="s1">&#39;ui-ajax-products:load-products-list&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">productListNode</span><span class="p">);</span>
<span class="w">  </span><span class="p">});</span>
<span class="p">}</span>

<span class="c1">// Подписываемся на событие init-products:ui-ajax-products, чтобы после загрузки и отрисовки товаров продолжить работу с ними</span>
<span class="nx">EventBus</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;init-products:ui-ajax-products&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">initAjaxProductsCallback</span><span class="p">);</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">initAjaxProductsCallback</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Код, который должен выполниться после того, как товары были загружены и отрисованы.</span>
<span class="w">  </span><span class="c1">// Например, здесь может быть код инициализации слайдера или других интерактивных элементов.</span>
<span class="p">}</span>
</code></pre></div>
<p>Теперь, когда вы подписались на событие <code>init-products:ui-ajax-products</code>, ваша функция <code>initAjaxProductsCallback</code> будет вызвана после того, как товары будут успешно загружены и отрисованы на странице. В этой функции вы можете выполнять любые действия, связанные с полученными товарами, такие как: инициализация слайдеров, применение фильтров или добавление анимаций.</p>
<h2 id="_4">Подробно о шаблонах</h2>
<p>Шаблоны играют ключевую роль в структурировании и отображении превью товаров. Чтобы лучше понять их функциональность, давайте разобьем превью товара на древовидную структуру:</p>
<ul>
<li>Превью товара<ul>
<li>Изображение товара</li>
<li>Вывод значений свойств в виде изображений или текста</li>
</ul>
</li>
</ul>
<p>Для рендера каждой отдельной ветки вышеописанного дерева в Common.js были реализованы отдельные шаблоны.</p>
<p>Всего реализовано 4 шаблона:</p>
<ul>
<li>Шаблон превью товара (<a href="#data-ajax-products-list-item-template"><code>data-ajax-products-list-item-template</code></a>)<ul>
<li>Шаблон изображения товара (<a href="#data-ajax-products-list-item-image-template"><code>data-ajax-products-list-item-image-template</code></a>)</li>
<li>Шаблон для вывода значений свойств вариантов в виде изображений (<a href="#data-ajax-products-list-item-option-values-images-item-template"><code>data-ajax-products-list-item-option-values-images-item-template</code></a>)</li>
<li>Шаблон для вывода значений свойств вариантов в виде текста  (<a href="#data-ajax-products-list-item-option-values-item-text-template"><code>data-ajax-products-list-item-option-values-item-text-template</code></a>)</li>
</ul>
</li>
</ul>
<p>Чтобы показать зависимость других шаблонов от шаблона превью товара, они указаны в списке как вложенные, хотя ни один из них не является дочерним по отношению к другому. Каждый представляет собой отдельный фрагмент кода внутри блока с атрибутом <code>data-ajax-products</code>. Для корректной работы достаточно использовать первые два шаблона. Шаблоны для вывода значений свойств являются необязательными, но могут быть полезными, если вы хотите показать значения свойств при наведении на превью, как это сделано в виджете товаров определенной категории SP12.</p>
<h3 id="data-ajax-products-list-item-template">data-ajax-products-list-item-template</h3>
<p>Основной шаблон, отвечающий за отрисовку превью каждого товара из запрашиваемой категории.</p>
<h4 id="_5">Корневые элементы</h4>
<h5 id="data-ajax-products-list-item">data-ajax-products-list-item</h5>
<p>Корневой элемент шаблона превью товара, внутри которого будет располагаться форма товара (<code>data-ajax-products-list-item-form</code>).</p>
<h5 id="data-ajax-products-list-item-form">data-ajax-products-list-item-form</h5>
<p>Корневой элемент шаблона превью товара, внутри которого будет находиться весь контент превью товара. Должен размещаться внутри элемента с атрибутом <code>data-ajax-products-list-item</code>.</p>
<p>Пример разметки для шаблона превью товара:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">template</span> <span class="na">data-ajax-products-list-item-template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span>
      <span class="na">data-ajax-products-list-item</span>
    <span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">form</span>
          <span class="na">action</span><span class="o">=</span><span class="s">&quot;{{ cart_url }}&quot;</span>
          <span class="na">method</span><span class="o">=</span><span class="s">&quot;post&quot;</span>
          <span class="na">data-ajax-products-list-item-form</span>
        <span class="p">&gt;</span>
            <span class="cm">&lt;!-- Код формы --&gt;</span>
        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</code></pre></div>
<h4 id="data-ajax-products-list-item-form_1">Вложенные элементы формы товара (<code>data-ajax-products-list-item-form</code>)</h4>
<h5 id="data-ajax-products-list-item-title">data-ajax-products-list-item-title</h5>
<p>Добавляет название товара в <code>textContent</code> элемента.</p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">span</span>
  <span class="na">data-ajax-products-list-item-title</span>
<span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></div>
<h5 id="data-ajax-products-list-item-link">data-ajax-products-list-item-link</h5>
<p>Добавляет элементу атрибут <code>href</code> со ссылкой на товар. Можно использовать в связке с названием товара, например:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">a</span>
  <span class="na">data-ajax-products-list-item-link</span>
  <span class="na">data-ajax-products-list-item-title</span>
<span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></div>
<h5 id="data-ajax-products-list-item-image">data-ajax-products-list-item-image</h5>
<p>Атрибут для рендера <a href="#data-ajax-products-list-item-image-template">шаблона</a> вывода изображения товара (<code>data-ajax-products-list-item-image-template</code>).</p>
<h5 id="data-ajax-products-list-item-short-description">data-ajax-products-list-item-short-description</h5>
<p>Атрибут для вывода краткого описания товара внутри элемента.</p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">data-ajax-products-list-item-short-description</span>
<span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h5 id="data-ajax-products-list-item-price-min">data-ajax-products-list-item-price-min</h5>
<p>Атрибут для вывода минимальной цены товара. Может быть использован для товаров с вариантами, у которых отличаются цены.</p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">span</span>
  <span class="na">data-ajax-products-list-item-price-min</span>
<span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></div>
<p>Может быть использован в связке со стандартными атрибутами формы товара, например:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-preview__price&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span>
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-preview__price-label&quot;</span>
<span class="p">&gt;</span>{{messages.from }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span>
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-preview__price-min&quot;</span>
    <span class="na">data-ajax-products-list-item-price-min</span>
<span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span>
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-preview__price-cur&quot;</span>
    <span class="na">data-product-card-price-from-cart</span>
<span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span>
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-preview__price-old&quot;</span>
    <span class="na">data-product-card-old-price</span>
<span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>Чтобы скрыть ненужные элементы, вы можете использовать классы на форме товара, которые перечислены <a href="#data-ajax-products-list-item-form_2">здесь</a></p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">span</span>
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;product-preview__price-max&quot;</span>
    <span class="na">data-ajax-products-list-item-price-max</span>
<span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
</code></pre></div>
<h5 id="data-ajax-products-list-item-price-max">data-ajax-products-list-item-price-max</h5>
<p>Атрибут для вывода максимальной цены товара. Может быть использован для товаров с вариантами, у которых отличаются цены.</p>
<h5 id="data-ajax-products-list-item-variants-select-block">data-ajax-products-list-item-variants-select-block</h5>
<p>Позволяет вывести селектор для выбора варианта товара. Работает по тому же принципу, как и в случае со <a href="/common.v2.js/2Products/#data-product-variants">стандартной карточкой товара</a>, только вид отображения необходимо передать в значении атрибута <code>data-ajax-products-list-item-variants-select-block</code>, а не <code>data-product-variants</code>.</p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">data-ajax-products-list-item-variants-select-block</span><span class="o">=</span><span class="s">&#39;{</span>
<span class="s">    &quot;default&quot;: &quot;option-radio&quot;,</span>
<span class="s">    &quot;Цвет&quot;: &quot;{{widget_settings.display-property-color }}&quot;</span>
<span class="s">  }&#39;</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">select</span>
    <span class="na">name</span><span class="o">=</span><span class="s">&quot;variant_id&quot;</span>
    <span class="na">data-product-variants</span>
<span class="p">&gt;&lt;/</span><span class="nt">select</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h5 id="data-ajax-products-list-item-add-cart">data-ajax-products-list-item-add-cart</h5>
<p>Удаляет из разметки элемент, которому назначен этот атрибут, если товара нет в наличии и в настройках магазина включена опция "Запретить заказывать больше, чем есть в наличии".</p>
<p>Например, если описанное выше условие истинно, то весь блок ниже будет удалён из разметки:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">data-ajax-products-list-item-add-cart</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;submit&quot;</span> <span class="na">data-item-add</span><span class="p">&gt;</span>
    Добавить в корзину
  <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h5 id="data-ajax-products-list-item-option-values">data-ajax-products-list-item-option-values</h5>
<p>Используется для отображения значений свойств товаров в виде текста или изображений с помощью шаблонов <a href="#data-ajax-products-list-item-option-values-images-item-template"><code>data-ajax-products-list-item-option-values-images-item-template</code></a> и <a href="#data-ajax-products-list-item-option-values-item-text-template"><code>data-ajax-products-list-item-option-values-item-text-template</code></a>. Пример использования можно увидеть в виджете SP12, где при наведении на карточку превью товара отображаются значения свойств вариантов.</p>
<p>В значении можно передать две настройки:</p>
<ol>
<li><code>imagesOptionNames</code> — в значении этого свойства можно указать возможные названия свойств, которые должны выводиться в виде изображений. Обычно это свойство "Цвет". Возможные значения можно перечислить через запятую, указав при этом названия свойств на других языках.</li>
<li><code>showVariantsText</code> — если передать <code>true</code>, то все значения свойств всегда будут выводиться в виде текста для всех товаров. Если <code>false</code>, то значения свойств будут выводиться в виде картинок и текста.</li>
</ol>
<p>Для вывода значений свойств в виде изображений необходимо создать вложенный блок с атрибутом <code>data-ajax-products-list-item-option-values-images</code>.</p>
<p>Текстовые значения будут автоматически разбиты на отдельные блоки и добавлены в блок с атрибутом <code>data-ajax-products-list-item-option-values</code>.</p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">data-ajax-products-list-item-option-values</span><span class="o">=</span><span class="s">&#39;{</span>
<span class="s">    &quot;imagesOptionNames&quot;: &quot;цвет,color,расцветка,цвет товара&quot;</span>
<span class="s">    &quot;showVariantsText&quot;:&quot;{{ widget_settings.show-variants-text }}&quot;,</span>
<span class="s">  }&#39;</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;option-list-values with-images&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span>
      <span class="na">class</span><span class="o">=</span><span class="s">&quot;option-list-images&quot;</span>
      <span class="na">data-ajax-products-list-item-option-values-images</span>
<span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>Управлять отображением элементов вы можете с помощью <a href="#data-ajax-products-list-item-option-values_1">классов</a>.</p>
<h5 id="data-ajax-products-list-item-stickers">data-ajax-products-list-item-stickers</h5>
<p>Позволяет отобразить стикеры (значения параметра товара, у которого <code>handle</code> равен <code>label</code>). В качестве вложенных элементов могут быть использованы стандартные элементы формы товара, такие как <code>data-product-card-sale-value</code> (скидка на товар, если старая цена выше цены продажи) или ваши собственные стикеры.</p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;stickers&quot;</span>
  <span class="na">data-ajax-products-list-item-stickers</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span>
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;sticker sticker-sale&quot;</span>
    <span class="na">data-product-card-sale-value</span>
  <span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span>
    <span class="na">class</span><span class="o">=</span><span class="s">&quot;sticker sticker-preorder&quot;</span>
  <span class="p">&gt;</span>{{messages.pre_order}}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<h5 id="data-ajax-products-list-item-favorites-trigger">data-ajax-products-list-item-favorites-trigger</h5>
<p>Позволяет добавить кнопку для добавления товара в избранное. Работает в связке со стандартным атрибутом <code>data-ui-favorites-trigger</code>.</p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code>{% if settings.favorite_enabled %}
<span class="p">&lt;</span><span class="nt">span</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;button button_size-s favorites_btn&quot;</span>
  <span class="na">data-ui-favorites-trigger</span>
  <span class="na">data-ajax-products-list-item-favorites-trigger</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn-icon icon-favorites-o&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn-icon icon-favorites-f&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
{% endif %}
</code></pre></div>
<p>Для корректной работы кнопки после загрузки и отрисовки товаров необходимо вызвать метод <code>update</code> класса <code>FavoritesProducts</code>.</p>
<p>Пример кода на JavaScript:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Подписываемся на событие init-products:ui-ajax-products, чтобы после загрузки и отрисовки товаров продолжить работу с ними</span>
<span class="nx">EventBus</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;init-products:ui-ajax-products&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">initAjaxProductsCallback</span><span class="p">);</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">initAjaxProductsCallback</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Обновляем состояние избранных товаров</span>
<span class="w">    </span><span class="nx">FavoritesProducts</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Код, который должен выполниться после того, как товары были загружены и отрисованы. Например, здесь может быть код инициализации слайдера.</span>
<span class="p">}</span>
</code></pre></div>
<p>Подробнее о работе с избранными товарами можно узнать <a href="/common.v2.js/6FavoritesProducts/">здесь</a>.</p>
<h5 id="data-ajax-products-list-item-compare-trigger">data-ajax-products-list-item-compare-trigger</h5>
<p>Работает аналогично атрибуту избранных товаров.</p>
<p>Пример использования:</p>
<div class="highlight"><pre><span></span><code>{% if settings.compare_enabled == null or settings.compare_enabled %}
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product__compare&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">span</span>
  <span class="na">data-compare-trigger</span>
  <span class="na">data-ajax-products-list-item-compare-trigger</span>
<span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;product__user-btn-icon icon-compare&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">span</span>
    <span class="na">data-compare-trigger-added-text</span><span class="o">=</span><span class="s">&quot;{{ messages.btn_compare_text_active }}&quot;</span>
    <span class="na">data-compare-trigger-not-added-text</span><span class="o">=</span><span class="s">&quot;{{ messages.btn_compare_text }}&quot;</span>
<span class="p">&gt;</span>{{ messages.btn_compare_text }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{% endif %}
</code></pre></div>
<p>После отрисовки товаров, как и в случае с избранными товарами, необходимо обновить состояние с помощью метода <code>update</code> класса <code>Compare</code>.</p>
<p>Пример кода на JavaScript:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Подписываемся на событие init-products:ui-ajax-products, чтобы после загрузки и отрисовки товаров продолжить работу с ними</span>
<span class="nx">EventBus</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="s1">&#39;init-products:ui-ajax-products&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">initAjaxProductsCallback</span><span class="p">);</span>

<span class="kd">function</span><span class="w"> </span><span class="nx">initAjaxProductsCallback</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Обновляем состояние избранных товаров и товаров в сравнении</span>
<span class="w">    </span><span class="nx">FavoritesProducts</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
<span class="w">    </span><span class="nx">Compare</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Код, который должен выполниться после того, как товары были загружены и отрисованы. Например, здесь может быть код инициализации слайдера.</span>
<span class="p">}</span>
</code></pre></div>
<p>Подробнее о работе со сравнением товаров можно узнать <a href="/common.v2.js/5Compare/">здесь</a>.</p>
<h3 id="data-ajax-products-list-item-image-template">data-ajax-products-list-item-image-template</h3>
<p>Шаблон, отвечающий за отрисовку изображений товаров из запрашиваемой категории. Должен подключаться внутри формы товара <code>data-ajax-products-list-item-form</code> с помощью элемента с атрибутом <a href="#data-ajax-products-list-item-image"><code>data-ajax-products-list-item-image</code></a>.</p>
<h4 id="_6">Корневые элементы</h4>
<h5 id="data-ajax-products-list-item-picture">data-ajax-products-list-item-picture</h5>
<p>Корневой элемент, содержащий изображения, который должен быть вложен в шаблон. Обычно используется для элемента <code>&lt;picture&gt;</code>.</p>
<h4 id="_7">Вложенные элементы</h4>
<h5 id="data-ajax-products-image-resizing-rules-index">data-ajax-products-image-resizing-rules-index</h5>
<p>Используется для указания порядка вывода изображений из массива <code>imageResizingRules</code>, переданного в качестве свойства объекта настроек <code>data-ajax-products-list</code>.</p>
<p>Например, мы передали в <code>data-ajax-products-list</code> следующий массив:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">div</span> <span class="na">data-ajax-products-list</span><span class="o">=</span><span class="s">&#39;{</span>
<span class="s">  &quot;imageResizingRules&quot;: [</span>
<span class="s">    {&quot;size&quot;:&quot;1080&quot;, &quot;format&quot;:&quot;webp&quot;, &quot;resizing_type&quot;:&quot;fit_width&quot;, &quot;quality&quot;:&quot;100&quot;},</span>
<span class="s">    {&quot;size&quot;:&quot;240&quot;, &quot;format&quot;:&quot;webp&quot;, &quot;resizing_type&quot;:&quot;fit_width&quot;, &quot;quality&quot;:&quot;100&quot;},</span>
<span class="s">    {&quot;size&quot;:&quot;1080&quot;, &quot;resizing_type&quot;:&quot;fit_width&quot;, &quot;quality&quot;:&quot;100&quot;}</span>
<span class="s">  ]</span>
<span class="s">}&#39;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>
<p>Если нужно вывести полученные изображения по порядку, указываем значения, начиная с нулевого элемента массива. Пример разметки шаблона:</p>
<div class="highlight"><pre><span></span><code><span class="cm">&lt;!-- Шаблон фото в превью-карточке товара --&gt;</span>
<span class="p">&lt;</span><span class="nt">template</span> <span class="na">data-ajax-products-list-item-image-template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">picture</span> <span class="na">data-ajax-products-list-item-picture</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">source</span>
        <span class="na">media</span><span class="o">=</span><span class="s">&quot;(min-width:481px)&quot;</span>
        <span class="na">data-ajax-products-image-resizing-rules-index</span><span class="o">=</span><span class="s">&quot;0&quot;</span>
        <span class="na">type</span><span class="o">=</span><span class="s">&quot;image/webp&quot;</span>
        <span class="na">class</span><span class="o">=</span><span class="s">&quot;lazyload&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">source</span>
        <span class="na">media</span><span class="o">=</span><span class="s">&quot;(max-width:480px)&quot;</span>
        <span class="na">data-ajax-products-image-resizing-rules-index</span><span class="o">=</span><span class="s">&quot;1&quot;</span>
        <span class="na">type</span><span class="o">=</span><span class="s">&quot;image/webp&quot;</span>
        <span class="na">class</span><span class="o">=</span><span class="s">&quot;lazyload&quot;</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">img</span>
        <span class="na">data-ajax-products-image-resizing-rules-index</span><span class="o">=</span><span class="s">&quot;2&quot;</span>
        <span class="na">class</span><span class="o">=</span><span class="s">&quot;lazyload&quot;</span>
      <span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">picture</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</code></pre></div>
<p>Если не использовать этот атрибут или не указать для него значение, то для всех элементов <source> <code>&lt;source&gt;</code> и <code>&lt;img&gt;</code> в качестве значений атрибутов <code>src</code> и <code>data-srcset</code> будет задана ссылка на изображение оригинальных размеров.</p>
<h3 id="data-ajax-products-list-item-option-values-images-item-template">data-ajax-products-list-item-option-values-images-item-template</h3>
<p>Шаблон для вывода значений свойств вариантов в виде изображений. Может использоваться для отображения при наведении на превью товара, например, как в виджете SP12. Шаблон можно подключить в форме товара <code>data-ajax-products-list-item-form</code> с помощью элемента с атрибутом <a href="#data-ajax-products-list-item-option-values"><code>data-ajax-products-list-item-option-values</code></a>.</p>
<h4 id="_8">Корневые элементы</h4>
<h5 id="data-ajax-products-list-item-option-values-images-item">data-ajax-products-list-item-option-values-images-item</h5>
<p>Корневой элемент, содержащий изображения, который должен быть вложен в шаблон.</p>
<h4 id="_9">Вложенные элементы</h4>
<h5 id="data-ajax-products-list-item-option-values-images-item-img">data-ajax-products-list-item-option-values-images-item-img</h5>
<p>Создает для элемента <code>&lt;img&gt;</code> атрибут <code>src</code> со ссылкой на изображение, заданное для варианта, в котором используется значение свойства.</p>
<p>Пример шаблона:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">template</span> <span class="na">data-ajax-products-list-item-option-values-images-item-template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span>
      <span class="na">class</span><span class="o">=</span><span class="s">&quot;option-list-image&quot;</span>
      <span class="na">data-ajax-products-list-item-option-values-images-item</span>
    <span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;img-ratio img-fit&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;img-ratio__inner&quot;</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">img</span>
            <span class="na">width</span><span class="o">=</span><span class="s">&quot;48&quot;</span>
            <span class="na">data-ajax-products-list-item-option-values-images-item-img</span>
          <span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</code></pre></div>
<h3 id="data-ajax-products-list-item-option-values-item-text-template">data-ajax-products-list-item-option-values-item-text-template</h3>
<p>Шаблон для вывода значений свойств вариантов в виде текста. Может использоваться для отображения при наведении на превью товара, например, как в виджете SP12. Шаблон можно подключить в форме товара <code>data-ajax-products-list-item-form</code> с помощью элемента с атрибутом <a href="#data-ajax-products-list-item-option-values"><code>data-ajax-products-list-item-option-values</code></a>.</p>
<h4 id="_10">Вложенные элементы</h4>
<h5 id="data-ajax-products-list-item-option-values-item-text">data-ajax-products-list-item-option-values-item-text</h5>
<p>В <code>textContent</code> элемента будет записано название значения свойства товара.</p>
<h5 id="data-ajax-products-list-item-option-values-item-id">data-ajax-products-list-item-option-values-item-id</h5>
<p>В значение этого атрибута будет записан ID значения свойства товара из панели администратора магазина.</p>
<p>Пример шаблона:</p>
<div class="highlight"><pre><span></span><code><span class="p">&lt;</span><span class="nt">template</span> <span class="na">data-ajax-products-list-item-option-values-item-text-template</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span>
      <span class="na">class</span><span class="o">=</span><span class="s">&quot;option-list-value&quot;</span>
      <span class="na">data-ajax-products-list-item-option-values-item-text</span>
      <span class="na">data-ajax-products-list-item-option-values-item-id</span>
    <span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">template</span><span class="p">&gt;</span>
</code></pre></div>
<h2 id="_11">События</h2>
<ul>
<li><code>ui-ajax-products:load-products-list</code> — событие, которое необходимо инициализировать в JavaScript.</li>
<li><code>init-products:ui-ajax-products</code> — срабатывает после загрузки и отрисовки всех товаров.</li>
</ul>
<p>Подробную информацию о событиях компонента вы можете найти <a href="#_2">здесь</a>.</p>
<h2 id="_12">Доступные классы</h2>
<p>Ниже представлены классы для элементов с атрибутами компонента.</p>
<h3 id="data-ajax-products-list">data-ajax-products-list</h3>
<ul>
<li><code>ajax-products-is-loading</code> — класс присваивается на время загрузки и отрисовки товаров.</li>
<li><code>ajax-products-is-init</code> — класс присваивается в момент, когда товары были загружены и отрисованы.</li>
</ul>
<h3 id="data-ajax-products-list-item-form_2">data-ajax-products-list-item-form</h3>
<ul>
<li><code>ajax-products-list-item-has-many-variants</code> — класс присваивается, если у товара больше одного варианта и задано хотя бы одно свойство.</li>
<li><code>ajax-products-list-item-has-many-old-prices</code> — класс присваивается, если у вариантов товара различаются старые цены.</li>
<li><code>ajax-products-list-item-has-many-sale-prices</code> — класс присваивается, если у вариантов товара различаются цены продажи.</li>
<li><code>ajax-products-list-item-is-bundle</code> — класс присваивается, если товар является комплектом.</li>
</ul>
<p>Кроме того, для формы товара доступны стандартные классы:</p>
<ul>
<li><code>with-old-price</code> — присваивается, если у варианта товара есть старая цена.</li>
<li><code>without-old-price</code> — присваивается, если у варианта товара нет старой цены.</li>
<li><code>with-sku</code> — присваивается, если у варианта товара есть артикул.</li>
<li><code>without-sku</code> — присваивается, если у варианта товара нет артикула.</li>
<li><code>is-available</code> — присваивается, если вариант товара в наличии.</li>
<li><code>not-available</code> — присваивается, если варианта товара нет в наличии.</li>
<li><code>with-sale-value</code> — присваивается, если цена продажи варианта меньше старой цены.</li>
</ul>
<h3 id="data-ajax-products-list-item-option-values_1">data-ajax-products-list-item-option-values</h3>
<ul>
<li><code>ajax-products-list-item-option-list-values</code> — класс присваивается каждому блоку с текстовыми значениями свойств.</li>
<li><code>ajax-products-list-item-option-images-values-first</code> — класс присваивается, если свойство с изображениями имеет минимальную позицию в панели администратора (раздел "Настройки" &gt; "Свойства вариантов") среди всех свойств товара.</li>
<li><code>ajax-products-list-item-option-images-values-last</code> — класс присваивается, если свойство с изображениями имеет максимальную позицию в панели администратора (раздел "Настройки" &gt; "Свойства вариантов") среди всех свойств товара.</li>
<li><code>ajax-products-list-item-option-list-values-colors</code> — класс присваивается, если у варианта со свойством, для которого должно выводиться изображение, этого изображения не оказалось.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e1c3ead8.min.js"></script>
      
        <script src="../../../js/jquery.min.js"></script>
      
        <script src="../../../js/extra.js"></script>
      
    
  </body>
</html>