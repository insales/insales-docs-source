# settings_form.json

Форма настроек

## Группы настроек

Имеется возможность группировки настроек, которые будут отображаться в виде дропов с заголовком.
В случае если в настройках будет всего одна группа то заголовок группы отображаться не будет и дроп будет всегда раскрыт.

Пример:
````json
    {
      "Группа 1":[],
      "Группа 2":[],
      "Группа 3":[]
    }
````

## Подгруппы настроек

Каждую группу можно разделить на подгруппы которые будут визуально разделять настройки для более удобного их использования.

Пример:
````json
    {
      "Группа 1":[
        {
          "group_name":"Подгруппа 1",
          "items":[]
        },
        {
          "group_name":"Подгруппа 2",
          "items":[]
        },
        {
          "group_name":"Подгруппа 3",
          "items":[]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````

Если вы не хотите разделять настройки на подгруппы то можно использовать такой формат.

Пример:
````json
    {
      "Группа 1":[
        {
          "items":[

          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````

## Варианты полей настроек

В настройках можно использовать несколько видов полей настроек: `Текст` `Чекбокс` `Селект` `Ползунок` `Файл` `Цвет`.


### Текст
Данный вид имеет следующие параметры:
* `name` - <a name="setting_form_name"></a>Идентификатор настройки (должен быть уникальным). 
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе 
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `enable_server_reload` - Значение - true/false Перезагрузка шаблона при изменении значения настройки
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора 


Пример:
````json
    {
      "Группа 1":[
        {
          "group_name":"Подгруппа 1",
          "items":[
            {
              "name":"main_text",
              "label":"Текст",
              "help":"",
              "type":"text"
            }
          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````

### Число (number)
Данный вид имеет следующие параметры:
* `name` - <a name="setting_form_name"></a>Идентификатор настройки (должен быть уникальным). 
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе 
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `enable_server_reload` - Значение - true/false Перезагрузка шаблона при изменении значения настройки
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора 
* `with_btns` - Изменение отображения Range slider на поле с кнопками '+' и '-'
* `min` - Значение - число. Минимальное значение настройки
* `max` - Значение - число. Максимальное значение настройки
* `step` - Значение - число. Шаг(интервал) на которое увеличиться число. 

Пример:
````json
{
  "class":"range",
  "name":"img-ratio",
  "label":"{{ messages.image_ratio }}",
  "min":0.5,
  "max":2.5,
  "step":0.1,
  "type":"number",
  "with_btns": true
}
````


### Чекбокс
Данный вид имеет следующие параметры:
* `name` - Идентификатор настройки (должен быть уникальным).
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `enable_server_reload` - Значение - true/false Перезагрузка шаблона при изменении значения настройки
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора 

Пример:
````json
    {
      "Группа 1":[
        {
          "group_name":"Подгруппа 1",
          "items":[
            {
              "name":"hide_caption",
              "label":"Скрыть заголовок",
              "value":null,
              "help":"",
              "type":"checkbox"
            }
          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````


### Селект
Данный вид имеет следующие параметры:
* `name` - Идентификатор настройки (должен быть уникальным).
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `options` - Массив значений селекта.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `enable_server_reload` - Значение - true/false Перезагрузка шаблона при изменении значения настройки
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора 



Пример:
````json
    {
      "Группа 1":[
        {
          "group_name":"Подгруппа 1",
          "items":[
            {
              "name":"font_family",
              "options":[
                [
                  "OpenSans",
                  "google:Open+Sans"
                ],
                [
                  "Roboto",
                  "google:Roboto"
                ]
              ],
              "value":null,
              "label":"Шрифт",
              "type":"select"
            }
          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````


### Ползунок (Range slider)
Данный вид имеет следующие параметры:
* `name` - Идентификатор настройки (должен быть уникальным).
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `min` - Минимальное значение.
* `max` - Максимальное значение.
* `step` - Шаг значений.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `enable_server_reload` - Значение - true/false. Перезагрузка шаблона при изменении значения настройки
* `unit` - Единица измерения (vw, px и т.п)
* `with_btns` - Изменение отображения Range slider на поле с кнопками '+' и '-'
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора  


Пример:
````json
    {
      "Группа 1":[
        {
          "group_name":"Подгруппа 1",
          "items":[
            {
              "name":"font_weight",
              "label":"Начертание шрифта",
              "value":null,
              "min": 100,
              "max": 600,
              "step": 100,
              "type":"range"
            }
          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````

### Кнопки (button-group)
Данный вид имеет следующие параметры:
* `name` - Идентификатор настройки (должен быть уникальным).
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `min` - Минимальное значение.
* `max` - Максимальное значение.
* `step` - Шаг значений.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основных настройках виджета в редакторе
* `enable_server_reload` - Значение - true/false. Перезагрузка шаблона при изменении значения настройки
* `unit` - Единица измерения (vw, px и т.п)
* `with_btns` - Изменение отображения Range slider на поле с кнопками '+' и '-'
hide_mobile
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора  
* `title` - Значение - {{ messages.align_left }}.  Добавляет заголовок с переводом из messages в основных настройках виджета в редакторе 
* `icon` - Значение - mdi-text-align-left. ы


Пример:
````json
{
  "name":"widget-align",
  "options":[
    {
      "value": "left",
      "title": "{{ messages.align_left }}",
      "icon": "mdi-text-align-left"
    },
    {
      "value": "center",
      "title": "{{ messages.align_center }}",
      "icon": "mdi-text-align-center"
    },
    {
      "value": "right",
      "title": "{{ messages.align_right }}",
      "icon": "mdi-text-align-right"
    }
  ],
  "value":null,
  "label":"{{ messages.alignment }}",
  "type":"button-group"
}
````

### Файл (Пример из настроек шаблона)
Данный вид имеет следующие параметры:
* `name` - Название поля дя {{ widget_settings.logotype }}.
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора 
* `with-generate-logo` - Значение - true/false. Добавить генератор логотипов в редакторе 


Пример:
````json
    {
      "Группа 1":[
        {
          "group_name":"Подгруппа 1",
          "items":[
            {
              "name":"logotype",
              "label":"Логотип",
              "value":null,
              "type":"file"
            }
          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````


### Цвет
Данный вид имеет следующие параметры:
* `name` - Идентификатор настройки (должен быть уникальным).
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `clearable` - Значение - true/false. Возможность очистить цвет фона в редакторе. 
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактораы
* `fallback` - Значение - color-btn-bg/bg. Переменные можно посмотреть  <a href="https://insales.github.io/my-layout/#">здесь</a> Возвращает заданный цвет если он не указан пользователем.

### Отображение свойств
Данный вид имеет следующие параметры:
* `name` - Идентификатор настройки (должен быть уникальным).
* `options` - Варианты отображения свойств.
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `edit_admin_link` - Значение - product_options. Ссылка на товар в панели администратора 
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора 

Пример:
````json
    {
      "Группа 1":[
        {
          "group_name":"Подгруппа 1",
          "items":[
            {
              "name":"color_text",
              "label":"Цвет текста",
              "value":"#ffffff",
              "help":"",
              "type":"color"
            }
          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````
### Блог
Данный вид имеет следующие параметры:
* `name` - Идентификатор настройки (должен быть уникальным).
* `options` - Варианты отображения свойств.
* `label` - Заголовок настройки.
* `value` - Значение по умолчанию.
* `help` - Подсказка (будет отображаться рядом с полем).
* `type` - Тип.
* `general` - Значение - true/false Вывод настройки в основные в редакторе
* `general_position` - Значение - 1, 2, 3 Порядок вывода настройки в основные в редакторе
* `general_label` - Значение - "{{ messages.title }}" Добавляет заголовок с переводом из messages в основвных настройках виджета в редакторе
* `edit_admin_link` - Значение - product_options. Ссылка на товар в панели администратора 
* `hide_mobile` - Значение - true/false. Скрыть настройку в мобильной версии редактора 

Пример:
````json
    {
      "Группа 1":[
        {
          "group_name":"Подгруппа 1",
          "items":[
            {
              "class": "text",
              "name": "permalink_blog",
              "label": "{{ messages.blog_choice }}",
              "value": null,
              "type": "blog",
              "general": true
            }
          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````

## Использование настроек

Пример файла `settings.json`:
````json
    {
      "Группа 1":[
        {
          "group_name":"Цвета",
          "items":[
            {
              "name":"color-background",
              "label":"Цвет фона",
              "value":"#ffffff",
              "help":"",
              "type":"color"
            },
            {
              "name":"color-text",
              "label":"Цвет текста",
              "value":"#ffffff",
              "help":"",
              "type":"color"
            },
            {
              "name":"color-link",
              "label":"Цвет ссылок",
              "value":"#ffffff",
              "help":"",
              "type":"color"
            }
          ]
        },
        {
          "group_name":"Шрифт",
          "items":[
            {
              "name":"font_family",
              "options":[
                [
                  "OpenSans",
                  "google:Open+Sans"
                ],
                [
                  "Roboto",
                  "google:Roboto"
                ]
              ],
              "value":null,
              "label":"Шрифт",
              "type":"select"
            },
            {
              "name":"font_weight",
              "label":"Начертание шрифта",
              "value":null,
              "min": 100,
              "max": 600,
              "step": 100,
              "type":"range"
            }
          ]
        },
        {
          "group_name":"Логотип",
          "items":[
            {
              "name":"logotype.png",
              "label":"Логотип",
              "value":null,
              "help":"",
              "type":"file"
            }
          ]
        }
      ],
      "Группа 2":[],
      "Группа 3":[]
    }
````


Пример получения значений настроек:

Вызов значения какого-либо параметра задается переменной  `{{ settings.необходимый_метод }}`

Пример liquid:
```twig
Шрифт: {{ settings:font_family }}
Цвет текста: {{ settings:color_text }}

```

Пример JSON

```JSON
{
  "{{ messages.content_settings }}": [
    {
      "items": [
        {
          "class": "text",
          "name": "title",
          "label": "{{ messages.title }}",
          "value": null,
          "type": "text"
        },
        {
          "class": "range",
          "name": "benefit_row_gap",
          "min": 0,
          "max": 10,
          "step": 0.5,
          "label": "{{ messages.benefit_row_gap }}",
          "type": "range"
        },
        {
          "class": "range",
          "name": "benefit_img_ratio",
          "label": "{{ messages.benefit_img_ratio }}",
          "min": 0.5,
          "max" : 2,
          "step": 0.1,
          "type": "range"
        },
        {
          "class": "range",
          "name": "benefit_img_border_radius",
          "label": "{{ messages.benefit_img_border_radius }}",
          "min": 0,
          "max" : 50,
          "step": 1,
          "type": "range"
        }
      ]
    }
  ]
}
```
